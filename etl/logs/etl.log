2025-04-17 13:16:18,618 - INFO - Fetching assets that need price updates...
2025-04-17 13:16:18,618 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:16:18,618 - INFO - Error fetching assets needing updates: unsupported operand type(s) for -: 'str' and 'datetime.timedelta'
2025-04-17 13:16:18,620 - INFO - Starting update_market_data job...
2025-04-17 13:16:18,620 - INFO - Validating asset names against the holdings table...
2025-04-17 13:16:18,620 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:16:18,645 - INFO - Validating asset names against the holdings table...
2025-04-17 13:16:18,645 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:16:18,645 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:20:40,866 - INFO - Starting update_market_data job...
2025-04-17 13:20:40,866 - INFO - Validating asset names against the holdings table...
2025-04-17 13:20:40,866 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:20:42,939 - INFO - Starting update_market_data job...
2025-04-17 13:20:42,939 - INFO - Validating asset names against the holdings table...
2025-04-17 13:20:42,939 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:26:06,230 - INFO - Fetching assets that need price updates...
2025-04-17 13:26:06,230 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:26:06,234 - INFO - Starting update_market_data job...
2025-04-17 13:26:06,234 - INFO - Validating asset names against the holdings table...
2025-04-17 13:26:06,234 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:26:06,237 - INFO - Validating asset names against the holdings table...
2025-04-17 13:26:06,237 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:29:12,852 - INFO - Starting fetch_market_average_data job...
2025-04-17 13:29:12,852 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:29:12,852 - INFO - There are 2 Existing market average data
2025-04-17 13:29:12,852 - INFO - There are 2 index names for market average data
2025-04-17 13:29:12,852 - INFO - All market average data is up-to-date. Using existing data.
2025-04-17 13:29:23,759 - INFO - Starting fetch_market_average_data job...
2025-04-17 13:29:23,759 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:29:23,759 - INFO - There are 2 Existing market average data
2025-04-17 13:29:23,759 - INFO - There are 2 index names for market average data
2025-04-17 13:29:23,759 - INFO - All market average data is up-to-date. Using existing data.
2025-04-17 13:29:32,415 - INFO - Fetching assets that need price updates...
2025-04-17 13:29:32,415 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:29:32,421 - INFO - Starting update_market_data job...
2025-04-17 13:29:32,421 - INFO - Validating asset names against the holdings table...
2025-04-17 13:29:32,421 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:29:32,424 - INFO - Validating asset names against the holdings table...
2025-04-17 13:29:32,424 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:31:13,309 - INFO - Fetching assets that need price updates...
2025-04-17 13:31:13,310 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:31:13,310 - INFO - Found 2 assets needing updates.
2025-04-17 13:31:13,310 - INFO - Starting update_market_data job...
2025-04-17 13:31:13,311 - INFO - Validating asset names against the holdings table...
2025-04-17 13:31:13,311 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:31:13,311 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'TSLA', 'AAPL'}
2025-04-17 13:31:13,311 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:31:13,313 - INFO - Validating asset names against the holdings table...
2025-04-17 13:31:13,313 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:31:13,313 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:34:05,992 - INFO - Fetching assets that need price updates...
2025-04-17 13:34:05,992 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:34:05,993 - INFO - Found 2 assets needing updates.
2025-04-17 13:34:05,993 - INFO - Starting update_market_data job...
2025-04-17 13:34:05,993 - INFO - Validating asset names against the holdings table...
2025-04-17 13:34:05,993 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:34:05,994 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'TSLA', 'AAPL'}
2025-04-17 13:34:05,994 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:34:05,996 - INFO - Validating asset names against the holdings table...
2025-04-17 13:34:05,996 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:34:05,996 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:35:23,852 - INFO - Fetching assets that need price updates...
2025-04-17 13:35:23,853 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:35:23,853 - INFO - Found 2 assets needing updates.
2025-04-17 13:35:23,854 - INFO - Starting update_market_data job...
2025-04-17 13:35:23,854 - INFO - Validating asset names against the holdings table...
2025-04-17 13:35:23,854 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:35:23,854 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'TSLA', 'AAPL'}
2025-04-17 13:35:23,854 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:35:23,856 - INFO - Validating asset names against the holdings table...
2025-04-17 13:35:23,856 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:35:23,856 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:42:59,952 - INFO - Fetching assets that need price updates...
2025-04-17 13:42:59,952 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:42:59,952 - INFO - Found 2 assets needing updates.
2025-04-17 13:42:59,953 - INFO - Starting update_market_data job...
2025-04-17 13:42:59,953 - INFO - Validating asset names against the holdings table...
2025-04-17 13:42:59,953 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:42:59,953 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'AAPL', 'TSLA'}
2025-04-17 13:42:59,954 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:42:59,956 - INFO - Validating asset names against the holdings table...
2025-04-17 13:42:59,956 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:42:59,956 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:43:39,021 - INFO - Fetching assets that need price updates...
2025-04-17 13:43:39,021 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:43:39,022 - INFO - Found 2 assets needing updates.
2025-04-17 13:43:39,022 - INFO - Starting update_market_data job...
2025-04-17 13:43:39,022 - INFO - Validating asset names against the holdings table...
2025-04-17 13:43:39,022 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:43:39,023 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'AAPL', 'TSLA'}
2025-04-17 13:43:39,023 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:43:39,025 - INFO - Validating asset names against the holdings table...
2025-04-17 13:43:39,025 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:43:39,025 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:43:46,926 - INFO - Fetching assets that need price updates...
2025-04-17 13:43:46,926 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:43:46,927 - INFO - Found 2 assets needing updates.
2025-04-17 13:43:46,927 - INFO - Starting update_market_data job...
2025-04-17 13:43:46,927 - INFO - Validating asset names against the holdings table...
2025-04-17 13:43:46,927 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:43:46,928 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'TSLA', 'AAPL'}
2025-04-17 13:43:46,928 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:43:46,929 - INFO - Starting update_market_data job...
2025-04-17 13:43:46,929 - INFO - Validating asset names against the holdings table...
2025-04-17 13:43:46,929 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:43:46,934 - INFO - Validating asset names against the holdings table...
2025-04-17 13:43:46,934 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:43:46,934 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:44:08,329 - INFO - Fetching assets that need price updates...
2025-04-17 13:44:08,329 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:44:08,329 - INFO - Found 2 assets needing updates.
2025-04-17 13:44:08,330 - INFO - Starting update_market_data job...
2025-04-17 13:44:08,330 - INFO - Validating asset names against the holdings table...
2025-04-17 13:44:08,330 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:44:08,330 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'TSLA', 'AAPL'}
2025-04-17 13:44:08,331 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:44:08,333 - INFO - Starting update_market_data job...
2025-04-17 13:44:08,333 - INFO - Validating asset names against the holdings table...
2025-04-17 13:44:08,333 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:44:08,337 - INFO - Validating asset names against the holdings table...
2025-04-17 13:44:08,337 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:44:08,337 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:45:27,877 - INFO - Fetching assets that need price updates...
2025-04-17 13:45:27,878 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:45:27,878 - INFO - Found 2 assets needing updates.
2025-04-17 13:45:27,878 - INFO - Starting update_market_data job...
2025-04-17 13:45:27,879 - INFO - Validating asset names against the holdings table...
2025-04-17 13:45:27,879 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:45:27,879 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'AAPL', 'TSLA'}
2025-04-17 13:45:27,879 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:45:27,881 - INFO - Starting update_market_data job...
2025-04-17 13:45:27,881 - INFO - Validating asset names against the holdings table...
2025-04-17 13:45:27,881 - INFO - Asset names to validate: ['AAPL', 'TSLA']
2025-04-17 13:45:27,881 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'AAPL', 'TSLA'}
2025-04-17 13:45:27,882 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:45:27,882 - INFO - Validating asset names against the holdings table...
2025-04-17 13:45:27,882 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:45:27,882 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:52:25,603 - INFO - Fetching assets that need price updates...
2025-04-17 13:52:25,604 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:52:25,604 - INFO - Found 2 assets needing updates.
2025-04-17 13:52:25,604 - INFO - Starting update_market_data job...
2025-04-17 13:52:25,604 - INFO - Assets needing updates: ['AAPL', 'TSLA']
2025-04-17 13:52:25,605 - INFO - update_market_data job completed successfully.
2025-04-17 13:52:25,605 - INFO - Starting update_market_data job...
2025-04-17 13:52:25,605 - INFO - Error: asset_names must be a list of strings.
2025-04-17 13:52:25,607 - INFO - Starting update_market_data job...
2025-04-17 13:52:25,607 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:52:25,607 - INFO - Validating asset names against the holdings table...
2025-04-17 13:52:25,607 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:52:25,607 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:53:12,922 - INFO - Fetching assets that need price updates...
2025-04-17 13:53:12,922 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:53:12,922 - INFO - Found 2 assets needing updates.
2025-04-17 13:53:12,923 - INFO - Starting update_market_data job...
2025-04-17 13:53:12,923 - INFO - Assets needing updates: ['AAPL', 'TSLA']
2025-04-17 13:53:12,923 - INFO - update_market_data job completed successfully.
2025-04-17 13:53:12,923 - INFO - Starting update_market_data job...
2025-04-17 13:53:12,924 - INFO - Error: asset_names must be a list of strings.
2025-04-17 13:53:12,924 - INFO - Starting update_market_data job...
2025-04-17 13:53:12,924 - INFO - No assets need updates. Exiting job.
2025-04-17 13:53:12,924 - INFO - update_market_data job completed successfully.
2025-04-17 13:53:12,924 - INFO - Starting update_market_data job...
2025-04-17 13:53:12,924 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:53:12,925 - INFO - Validating asset names against the holdings table...
2025-04-17 13:53:12,925 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:53:12,925 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:54:51,178 - INFO - Fetching assets that need price updates...
2025-04-17 13:54:51,178 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:54:51,179 - INFO - Found 2 assets needing updates.
2025-04-17 13:54:51,179 - INFO - Starting update_market_data job...
2025-04-17 13:54:51,179 - INFO - Assets needing updates: ['AAPL', 'TSLA']
2025-04-17 13:54:51,179 - INFO - update_market_data job completed successfully.
2025-04-17 13:54:51,179 - INFO - Starting update_market_data job...
2025-04-17 13:54:51,180 - INFO - Error: asset_names must be a list of strings.
2025-04-17 13:54:51,180 - INFO - Starting update_market_data job...
2025-04-17 13:54:51,180 - INFO - No assets need updates. Exiting job.
2025-04-17 13:54:51,180 - INFO - update_market_data job completed successfully.
2025-04-17 13:54:51,180 - INFO - Starting update_market_data job...
2025-04-17 13:54:51,180 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:54:51,180 - INFO - Validating asset names against the holdings table...
2025-04-17 13:54:51,180 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:54:51,181 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:56:21,263 - INFO - Fetching assets that need price updates...
2025-04-17 13:56:21,263 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:56:21,263 - INFO - Found 2 assets needing updates.
2025-04-17 13:56:21,264 - INFO - Starting update_market_data job...
2025-04-17 13:56:21,264 - INFO - Assets needing updates: ['AAPL', 'TSLA']
2025-04-17 13:56:21,264 - INFO - update_market_data job completed successfully.
2025-04-17 13:56:21,264 - INFO - Starting update_market_data job...
2025-04-17 13:56:21,264 - INFO - Error: asset_names must be a list of strings.
2025-04-17 13:56:21,265 - INFO - Starting update_market_data job...
2025-04-17 13:56:21,265 - INFO - No assets need updates. Exiting job.
2025-04-17 13:56:21,265 - INFO - update_market_data job completed successfully.
2025-04-17 13:56:21,265 - INFO - Starting update_market_data job...
2025-04-17 13:56:21,265 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:56:21,265 - INFO - Validating asset names against the holdings table...
2025-04-17 13:56:21,265 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:56:21,265 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 13:56:28,662 - INFO - Starting fetch_market_average_data job...
2025-04-17 13:56:28,662 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:56:28,662 - INFO - There are 2 Existing market average data
2025-04-17 13:56:28,662 - INFO - There are 2 index names for market average data
2025-04-17 13:56:28,662 - INFO - All market average data is up-to-date. Using existing data.
2025-04-17 13:56:28,662 - INFO - Fetching assets that need price updates...
2025-04-17 13:56:28,662 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 13:56:28,663 - INFO - Found 2 assets needing updates.
2025-04-17 13:56:28,663 - INFO - Starting update_market_data job...
2025-04-17 13:56:28,663 - INFO - Assets needing updates: ['AAPL', 'TSLA']
2025-04-17 13:56:28,664 - INFO - update_market_data job completed successfully.
2025-04-17 13:56:28,664 - INFO - Starting update_market_data job...
2025-04-17 13:56:28,664 - INFO - Error: asset_names must be a list of strings.
2025-04-17 13:56:28,664 - INFO - Starting update_market_data job...
2025-04-17 13:56:28,664 - INFO - No assets need updates. Exiting job.
2025-04-17 13:56:28,664 - INFO - update_market_data job completed successfully.
2025-04-17 13:56:28,664 - INFO - Starting update_market_data job...
2025-04-17 13:56:28,664 - INFO - No valid asset names found. Exiting job.
2025-04-17 13:56:28,665 - INFO - Validating asset names against the holdings table...
2025-04-17 13:56:28,665 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 13:56:28,665 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 15:33:03,760 - INFO - Starting fetch_market_average_data job...
2025-04-17 15:33:03,760 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 15:33:03,760 - INFO - All market average data is up-to-date. Using existing data.
2025-04-17 15:33:03,761 - INFO - Fetching assets that need price updates...
2025-04-17 15:33:03,761 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 15:33:03,761 - INFO - Found 2 assets needing updates.
2025-04-17 15:33:03,762 - INFO - Starting update_market_data job...
2025-04-17 15:33:03,762 - INFO - Assets needing updates: ['AAPL', 'TSLA']
2025-04-17 15:33:03,763 - INFO - update_market_data job completed successfully.
2025-04-17 15:33:03,763 - INFO - Starting update_market_data job...
2025-04-17 15:33:03,763 - INFO - Error: asset_names must be a list of strings.
2025-04-17 15:33:03,763 - INFO - Starting update_market_data job...
2025-04-17 15:33:03,763 - INFO - No assets need updates. Exiting job.
2025-04-17 15:33:03,763 - INFO - update_market_data job completed successfully.
2025-04-17 15:33:03,763 - INFO - Starting update_market_data job...
2025-04-17 15:33:03,763 - INFO - No valid asset names found. Exiting job.
2025-04-17 15:33:03,764 - INFO - Validating asset names against the holdings table...
2025-04-17 15:33:03,764 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 15:33:03,764 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 15:34:38,268 - INFO - Starting fetch_market_average_data job...
2025-04-17 15:34:38,268 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 15:34:38,269 - INFO - All market average data is up-to-date. Using existing data.
2025-04-17 15:34:38,269 - INFO - Fetching assets that need price updates...
2025-04-17 15:34:38,269 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 15:34:38,269 - INFO - Found 2 assets needing updates.
2025-04-17 15:34:38,270 - INFO - Starting update_market_data job...
2025-04-17 15:34:38,270 - INFO - Assets needing updates: ['AAPL', 'TSLA']
2025-04-17 15:34:38,270 - INFO - update_market_data job completed successfully.
2025-04-17 15:34:38,270 - INFO - Starting update_market_data job...
2025-04-17 15:34:38,270 - INFO - Error: asset_names must be a list of strings.
2025-04-17 15:34:38,271 - INFO - Starting update_market_data job...
2025-04-17 15:34:38,271 - INFO - No assets need updates. Exiting job.
2025-04-17 15:34:38,271 - INFO - update_market_data job completed successfully.
2025-04-17 15:34:38,271 - INFO - Starting update_market_data job...
2025-04-17 15:34:38,271 - INFO - No valid asset names found. Exiting job.
2025-04-17 15:34:38,271 - INFO - Validating asset names against the holdings table...
2025-04-17 15:34:38,271 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 15:34:38,271 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 15:35:22,300 - INFO - Starting fetch_market_average_data job...
2025-04-17 15:35:22,300 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 15:35:22,300 - INFO - All market average data is up-to-date. Using existing data.
2025-04-17 15:35:22,301 - INFO - Fetching assets that need price updates...
2025-04-17 15:35:22,301 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 15:35:22,301 - INFO - Found 2 assets needing updates.
2025-04-17 15:35:22,302 - INFO - Starting update_market_data job...
2025-04-17 15:35:22,302 - INFO - Assets needing updates: ['AAPL', 'TSLA']
2025-04-17 15:35:22,302 - INFO - update_market_data job completed successfully.
2025-04-17 15:35:22,302 - INFO - Starting update_market_data job...
2025-04-17 15:35:22,302 - INFO - Error: asset_names must be a list of strings.
2025-04-17 15:35:22,303 - INFO - Starting update_market_data job...
2025-04-17 15:35:22,303 - INFO - No assets need updates. Exiting job.
2025-04-17 15:35:22,303 - INFO - update_market_data job completed successfully.
2025-04-17 15:35:22,303 - INFO - Starting update_market_data job...
2025-04-17 15:35:22,303 - INFO - No valid asset names found. Exiting job.
2025-04-17 15:35:22,303 - INFO - Validating asset names against the holdings table...
2025-04-17 15:35:22,303 - INFO - Asset names to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 15:35:22,303 - INFO - Warning: The following asset names do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 17:57:49,285 - INFO - Error: symbols must be a list of strings.
2025-04-17 17:57:49,287 - INFO - Fetching symbols that need price updates...
2025-04-17 17:57:49,287 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 17:57:49,287 - INFO - Found 2 symbols needing updates.
2025-04-17 17:57:49,288 - INFO - Starting update_market_data job...
2025-04-17 17:57:49,288 - INFO - Error: symbols must be a list of strings.
2025-04-17 17:57:49,288 - INFO - Starting update_market_data job...
2025-04-17 17:57:49,288 - INFO - No symbols need updates. Exiting job.
2025-04-17 17:57:49,288 - INFO - update_market_data job completed successfully.
2025-04-17 17:57:49,288 - INFO - Starting update_market_data job...
2025-04-17 17:57:49,288 - INFO - No valid symbols found. Exiting job.
2025-04-17 17:57:49,289 - INFO - Starting update_market_data job...
2025-04-17 17:57:49,289 - INFO - Symbols needing updates: ['AAPL', 'TSLA']
2025-04-17 17:57:49,289 - INFO - update_market_data job completed successfully.
2025-04-17 17:57:49,290 - INFO - Validating symbols against the holdings table...
2025-04-17 17:57:49,290 - INFO - Symbols to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 17:57:49,290 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 17:59:40,134 - INFO - Error: symbols must be a list of strings.
2025-04-17 17:59:40,137 - INFO - Fetching symbols that need price updates...
2025-04-17 17:59:40,137 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 17:59:40,137 - INFO - Found 2 symbols needing updates.
2025-04-17 17:59:40,137 - INFO - Starting update_market_data job...
2025-04-17 17:59:40,137 - INFO - Error: symbols must be a list of strings.
2025-04-17 17:59:40,138 - INFO - Starting update_market_data job...
2025-04-17 17:59:40,138 - INFO - No symbols need updates. Exiting job.
2025-04-17 17:59:40,138 - INFO - update_market_data job completed successfully.
2025-04-17 17:59:40,138 - INFO - Starting update_market_data job...
2025-04-17 17:59:40,138 - INFO - No valid symbols found. Exiting job.
2025-04-17 17:59:40,139 - INFO - Starting update_market_data job...
2025-04-17 17:59:40,139 - INFO - Symbols needing updates: ['AAPL', 'TSLA']
2025-04-17 17:59:40,139 - INFO - update_market_data job completed successfully.
2025-04-17 17:59:40,139 - INFO - Validating symbols against the holdings table...
2025-04-17 17:59:40,139 - INFO - Symbols to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 17:59:40,139 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 18:00:13,981 - INFO - Fetching symbols that need price updates...
2025-04-17 18:00:13,981 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 18:00:13,981 - INFO - Found 2 symbols needing updates.
2025-04-17 18:00:13,982 - INFO - Starting update_market_data job...
2025-04-17 18:00:13,982 - INFO - Error: symbols must be a list of strings.
2025-04-17 18:00:13,982 - INFO - Starting update_market_data job...
2025-04-17 18:00:13,982 - INFO - No symbols need updates. Exiting job.
2025-04-17 18:00:13,982 - INFO - update_market_data job completed successfully.
2025-04-17 18:00:13,983 - INFO - Starting update_market_data job...
2025-04-17 18:00:13,983 - INFO - No valid symbols found. Exiting job.
2025-04-17 18:00:13,983 - INFO - Starting update_market_data job...
2025-04-17 18:00:13,983 - INFO - Symbols needing updates: ['AAPL', 'TSLA']
2025-04-17 18:00:13,983 - INFO - update_market_data job completed successfully.
2025-04-17 18:00:13,983 - INFO - Validating symbols against the holdings table...
2025-04-17 18:00:13,983 - INFO - Symbols to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 18:00:13,984 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 18:00:18,299 - INFO - Fetching symbols that need price updates...
2025-04-17 18:00:18,299 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 18:00:18,300 - INFO - Found 2 symbols needing updates.
2025-04-17 18:00:18,300 - INFO - Starting update_market_data job...
2025-04-17 18:00:18,300 - INFO - Error: symbols must be a list of strings.
2025-04-17 18:00:18,300 - INFO - Starting update_market_data job...
2025-04-17 18:00:18,300 - INFO - No symbols need updates. Exiting job.
2025-04-17 18:00:18,301 - INFO - update_market_data job completed successfully.
2025-04-17 18:00:18,301 - INFO - Starting update_market_data job...
2025-04-17 18:00:18,301 - INFO - No valid symbols found. Exiting job.
2025-04-17 18:00:18,301 - INFO - Starting update_market_data job...
2025-04-17 18:00:18,301 - INFO - Symbols needing updates: ['AAPL', 'TSLA']
2025-04-17 18:00:18,301 - INFO - update_market_data job completed successfully.
2025-04-17 18:00:18,301 - INFO - Validating symbols against the holdings table...
2025-04-17 18:00:18,301 - INFO - Symbols to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 18:00:18,302 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-17 18:00:51,034 - INFO - Starting fetch_market_average_data job...
2025-04-17 18:00:51,034 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 18:00:51,035 - INFO - All market average data is up-to-date. Using existing data.
2025-04-17 18:00:51,035 - INFO - Fetching symbols that need price updates...
2025-04-17 18:00:51,035 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-17 18:00:51,035 - INFO - Found 2 symbols needing updates.
2025-04-17 18:00:51,036 - INFO - Starting update_market_data job...
2025-04-17 18:00:51,036 - INFO - Error: symbols must be a list of strings.
2025-04-17 18:00:51,036 - INFO - Starting update_market_data job...
2025-04-17 18:00:51,036 - INFO - No symbols need updates. Exiting job.
2025-04-17 18:00:51,036 - INFO - update_market_data job completed successfully.
2025-04-17 18:00:51,036 - INFO - Starting update_market_data job...
2025-04-17 18:00:51,036 - INFO - No valid symbols found. Exiting job.
2025-04-17 18:00:51,037 - INFO - Starting update_market_data job...
2025-04-17 18:00:51,037 - INFO - Symbols needing updates: ['AAPL', 'TSLA']
2025-04-17 18:00:51,037 - INFO - update_market_data job completed successfully.
2025-04-17 18:00:51,037 - INFO - Validating symbols against the holdings table...
2025-04-17 18:00:51,037 - INFO - Symbols to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-17 18:00:51,037 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-18 10:59:33,806 - INFO - Running fetch_market_average_data job...
2025-04-18 10:59:33,806 - INFO - Received message content: {'symbols': ['^GSPC', '^NDX']}
2025-04-18 10:59:33,806 - INFO - Received symbols: ['^GSPC', '^NDX']
2025-04-18 10:59:33,806 - INFO - Starting fetch_market_average_data job...
2025-04-18 10:59:33,806 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-18 10:59:33,806 - INFO - All market average data is up-to-date. Using existing data.
2025-04-18 10:59:33,807 - INFO - Fetching symbols that need price updates...
2025-04-18 10:59:33,807 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-18 10:59:33,807 - INFO - Found 2 symbols needing updates.
2025-04-18 10:59:33,807 - INFO - Starting update_market_data job...
2025-04-18 10:59:33,807 - INFO - Received message payload: INVALID_INPUT
2025-04-18 10:59:33,807 - INFO - Error: message_payload must be a dictionary with a 'symbols' key.
2025-04-18 10:59:33,808 - INFO - Starting update_market_data job...
2025-04-18 10:59:33,808 - INFO - Received message payload: {'symbols': ['AAPL', 'TSLA']}
2025-04-18 10:59:33,808 - INFO - Received symbols: ['AAPL', 'TSLA']
2025-04-18 10:59:33,808 - INFO - No symbols need updates. Exiting job.
2025-04-18 10:59:33,808 - INFO - update_market_data job completed successfully.
2025-04-18 10:59:33,808 - INFO - Starting update_market_data job...
2025-04-18 10:59:33,808 - INFO - Received message payload: {'symbols': ['INVALID']}
2025-04-18 10:59:33,808 - INFO - Received symbols: ['INVALID']
2025-04-18 10:59:33,808 - INFO - No valid symbols found. Exiting job.
2025-04-18 10:59:33,809 - INFO - Starting update_market_data job...
2025-04-18 10:59:33,809 - INFO - Received message payload: {'symbols': ['AAPL', 'TSLA']}
2025-04-18 10:59:33,809 - INFO - Received symbols: ['AAPL', 'TSLA']
2025-04-18 10:59:33,809 - INFO - Symbols needing updates: ['AAPL', 'TSLA']
2025-04-18 10:59:33,809 - INFO - update_market_data job completed successfully.
2025-04-18 10:59:33,809 - INFO - Validating symbols against the holdings table...
2025-04-18 10:59:33,809 - INFO - Symbols to validate: ['AAPL', 'TSLA', 'INVALID']
2025-04-18 10:59:33,809 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-24 15:27:30,560 - INFO - Fetching assets that need price updates...
2025-04-24 15:27:30,560 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 15:27:30,560 - INFO - Found 2 symbols needing updates.
2025-04-24 15:27:30,561 - INFO - Starting update_market_data job...
2025-04-24 15:27:30,561 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 15:27:30,561 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 15:27:30,561 - INFO - Assets needing updates: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 15:27:30,561 - INFO - update_market_data job completed successfully.
2025-04-24 15:27:30,561 - INFO - Starting update_market_data job...
2025-04-24 15:27:30,561 - INFO - Received message payload: INVALID_INPUT
2025-04-24 15:27:30,561 - INFO - Error: message_payload must be a dictionary with an 'assets' key.
2025-04-24 15:27:30,561 - INFO - Starting update_market_data job...
2025-04-24 15:27:30,561 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 15:27:30,561 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 15:27:30,561 - INFO - No assets need updates. Exiting job.
2025-04-24 15:27:30,561 - INFO - update_market_data job completed successfully.
2025-04-24 15:27:30,562 - INFO - Starting update_market_data job...
2025-04-24 15:27:30,562 - INFO - Received message payload: {'assets': [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]}
2025-04-24 15:27:30,562 - INFO - Received assets: [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 15:27:30,562 - INFO - No valid assets found. Exiting job.
2025-04-24 15:27:30,562 - INFO - Validating assets against the holdings table...
2025-04-24 15:27:30,562 - INFO - Assets to validate: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}, {'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 15:27:30,562 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-24 15:36:30,846 - INFO - Running fetch_market_average_data job...
2025-04-24 15:36:30,846 - INFO - Received message payload: {'symbols': ['^GSPC', '^NDX']}
2025-04-24 15:36:30,846 - INFO - Received symbols: ['^GSPC', '^NDX']
2025-04-24 15:36:30,846 - INFO - Starting fetch_market_average_data job...
2025-04-24 15:36:30,846 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 15:36:30,846 - INFO - All market average data is up-to-date. Using existing data.
2025-04-24 15:36:30,847 - INFO - Fetching assets that need price updates...
2025-04-24 15:36:30,847 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 15:36:30,847 - INFO - Found 2 symbols needing updates.
2025-04-24 15:36:30,848 - INFO - Starting update_market_data job...
2025-04-24 15:36:30,848 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 15:36:30,848 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 15:36:30,848 - INFO - Assets needing updates: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 15:36:30,848 - INFO - update_market_data job completed successfully.
2025-04-24 15:36:30,849 - INFO - Starting update_market_data job...
2025-04-24 15:36:30,849 - INFO - Received message payload: INVALID_INPUT
2025-04-24 15:36:30,849 - INFO - Error: message_payload must be a dictionary with an 'assets' key.
2025-04-24 15:36:30,849 - INFO - Starting update_market_data job...
2025-04-24 15:36:30,849 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 15:36:30,849 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 15:36:30,849 - INFO - No assets need updates. Exiting job.
2025-04-24 15:36:30,849 - INFO - update_market_data job completed successfully.
2025-04-24 15:36:30,849 - INFO - Starting update_market_data job...
2025-04-24 15:36:30,850 - INFO - Received message payload: {'assets': [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]}
2025-04-24 15:36:30,850 - INFO - Received assets: [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 15:36:30,850 - INFO - No valid assets found. Exiting job.
2025-04-24 15:36:30,850 - INFO - Validating assets against the holdings table...
2025-04-24 15:36:30,850 - INFO - Assets to validate: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}, {'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 15:36:30,850 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-24 17:20:42,556 - INFO - Running fetch_market_average_data job...
2025-04-24 17:20:42,557 - INFO - Received message payload: {'symbols': ['^GSPC', '^NDX']}
2025-04-24 17:20:42,557 - INFO - Received symbols: ['^GSPC', '^NDX']
2025-04-24 17:20:42,557 - INFO - Starting fetch_market_average_data job...
2025-04-24 17:20:42,557 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:20:42,557 - INFO - All market average data is up-to-date. Using existing data.
2025-04-24 17:20:42,557 - INFO - Starting fetch_and_insert_data process...
2025-04-24 17:20:42,557 - INFO - fetch_and_insert_data process completed.
2025-04-24 17:20:42,559 - INFO - Fetching real-time price for symbol: AAPL, asset_type: STOCK...
2025-04-24 17:20:42,559 - INFO - API response for symbol AAPL: {'symbol': 'AAPL', 'name': 'Apple Inc.', 'exchange': 'NASDAQ', 'mic_code': 'XNGS', 'currency': 'USD', 'datetime': '2025-04-23', 'timestamp': 1745415000, 'last_quote_at': 1745415000, 'open': '206', 'high': '208', 'low': '202.80000', 'close': '204.60001', 'volume': '52863100', 'previous_close': '199.74001', 'change': '4.86000', 'percent_change': '2.43316', 'average_volume': '81005730', 'is_market_open': False, 'fifty_two_week': {'low': '164.92000', 'high': '260.10001', 'low_change': '39.68001', 'high_change': '-55.50000', 'low_change_percent': '24.060155', 'high_change_percent': '-21.33795', 'range': '164.919998 - 260.100006'}}
2025-04-24 17:20:42,559 - INFO - Fetching real-time price for symbol: BTC, asset_type: UNKNOWN...
2025-04-24 17:20:42,559 - INFO - Unsupported asset type: UNKNOWN for symbol: BTC. Skipping.
2025-04-24 17:20:42,560 - INFO - Fetching assets that need price updates...
2025-04-24 17:20:42,560 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:20:42,560 - INFO - Found 2 symbols needing updates.
2025-04-24 17:20:42,561 - INFO - Successfully inserted or updated data for symbol: AAPL.
2025-04-24 17:20:42,561 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:20:42,561 - INFO - All required fields are present in the API response for symbol AAPL.
2025-04-24 17:20:42,561 - INFO - Extracted data for symbol AAPL: timestamp=1745415000, price=204.60001, percent_change=2.43316
2025-04-24 17:20:42,561 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:20:42,561 - INFO - Starting update_market_data job...
2025-04-24 17:20:42,561 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:20:42,561 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:20:42,561 - INFO - Assets needing updates: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:20:42,562 - INFO - update_market_data job completed successfully.
2025-04-24 17:20:42,562 - INFO - Starting update_market_data job...
2025-04-24 17:20:42,562 - INFO - Received message payload: INVALID_INPUT
2025-04-24 17:20:42,562 - INFO - Error: message_payload must be a dictionary with an 'assets' key.
2025-04-24 17:20:42,562 - INFO - Starting update_market_data job...
2025-04-24 17:20:42,562 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:20:42,562 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:20:42,562 - INFO - No assets need updates. Exiting job.
2025-04-24 17:20:42,563 - INFO - update_market_data job completed successfully.
2025-04-24 17:20:42,563 - INFO - Starting update_market_data job...
2025-04-24 17:20:42,563 - INFO - Received message payload: {'assets': [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]}
2025-04-24 17:20:42,563 - INFO - Received assets: [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:20:42,563 - INFO - No valid assets found. Exiting job.
2025-04-24 17:20:42,563 - INFO - Validating assets against the holdings table...
2025-04-24 17:20:42,563 - INFO - Assets to validate: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}, {'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:20:42,563 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-24 17:22:52,392 - INFO - Running fetch_market_average_data job...
2025-04-24 17:22:52,392 - INFO - Received message payload: {'symbols': ['^GSPC', '^NDX']}
2025-04-24 17:22:52,392 - INFO - Received symbols: ['^GSPC', '^NDX']
2025-04-24 17:22:52,392 - INFO - Starting fetch_market_average_data job...
2025-04-24 17:22:52,392 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:22:52,392 - INFO - All market average data is up-to-date. Using existing data.
2025-04-24 17:22:52,393 - INFO - Starting fetch_and_insert_data process...
2025-04-24 17:22:52,393 - INFO - fetch_and_insert_data process completed.
2025-04-24 17:22:52,395 - INFO - Fetching real-time price for symbol: AAPL, asset_type: STOCK...
2025-04-24 17:22:52,395 - INFO - API response for symbol AAPL: {'symbol': 'AAPL', 'name': 'Apple Inc.', 'exchange': 'NASDAQ', 'mic_code': 'XNGS', 'currency': 'USD', 'datetime': '2025-04-23', 'timestamp': 1745415000, 'last_quote_at': 1745415000, 'open': '206', 'high': '208', 'low': '202.80000', 'close': '204.60001', 'volume': '52863100', 'previous_close': '199.74001', 'change': '4.86000', 'percent_change': '2.43316', 'average_volume': '81005730', 'is_market_open': False, 'fifty_two_week': {'low': '164.92000', 'high': '260.10001', 'low_change': '39.68001', 'high_change': '-55.50000', 'low_change_percent': '24.060155', 'high_change_percent': '-21.33795', 'range': '164.919998 - 260.100006'}}
2025-04-24 17:22:52,395 - INFO - Fetching real-time price for symbol: BTC, asset_type: UNKNOWN...
2025-04-24 17:22:52,395 - INFO - Unsupported asset type: UNKNOWN for symbol: BTC. Skipping.
2025-04-24 17:22:52,396 - INFO - Fetching assets that need price updates...
2025-04-24 17:22:52,396 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:22:52,396 - INFO - Found 2 symbols needing updates.
2025-04-24 17:22:52,396 - INFO - Successfully inserted or updated data for symbol: AAPL.
2025-04-24 17:22:52,397 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:22:52,397 - INFO - All required fields are present in the API response for symbol AAPL.
2025-04-24 17:22:52,397 - INFO - Extracted data for symbol AAPL: timestamp=1745415000, price=204.60001, percent_change=2.43316
2025-04-24 17:22:52,397 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:22:52,397 - INFO - Starting update_market_data job...
2025-04-24 17:22:52,397 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:22:52,397 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:22:52,397 - INFO - Assets needing updates: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:22:52,397 - INFO - update_market_data job completed successfully.
2025-04-24 17:22:52,397 - INFO - Starting update_market_data job...
2025-04-24 17:22:52,397 - INFO - Received message payload: INVALID_INPUT
2025-04-24 17:22:52,397 - INFO - Error: message_payload must be a dictionary with an 'assets' key.
2025-04-24 17:22:52,398 - INFO - Starting update_market_data job...
2025-04-24 17:22:52,398 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:22:52,398 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:22:52,398 - INFO - No assets need updates. Exiting job.
2025-04-24 17:22:52,398 - INFO - update_market_data job completed successfully.
2025-04-24 17:22:52,398 - INFO - Starting update_market_data job...
2025-04-24 17:22:52,398 - INFO - Received message payload: {'assets': [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]}
2025-04-24 17:22:52,398 - INFO - Received assets: [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:22:52,398 - INFO - No valid assets found. Exiting job.
2025-04-24 17:22:52,399 - INFO - Validating assets against the holdings table...
2025-04-24 17:22:52,399 - INFO - Assets to validate: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}, {'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:22:52,399 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-24 17:26:01,868 - INFO - Running fetch_market_average_data job...
2025-04-24 17:26:01,868 - INFO - Received message payload: {'symbols': ['^GSPC', '^NDX']}
2025-04-24 17:26:01,868 - INFO - Received symbols: ['^GSPC', '^NDX']
2025-04-24 17:26:01,868 - INFO - Starting fetch_market_average_data job...
2025-04-24 17:26:01,868 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:26:01,868 - INFO - All market average data is up-to-date. Using existing data.
2025-04-24 17:26:01,869 - INFO - Starting fetch_and_insert_data process...
2025-04-24 17:26:01,869 - INFO - fetch_and_insert_data process completed.
2025-04-24 17:26:01,871 - INFO - Fetching real-time price for symbol: AAPL, asset_type: STOCK...
2025-04-24 17:26:01,871 - INFO - API response for symbol AAPL: {'symbol': 'AAPL', 'name': 'Apple Inc.', 'exchange': 'NASDAQ', 'mic_code': 'XNGS', 'currency': 'USD', 'datetime': '2025-04-23', 'timestamp': 1745415000, 'last_quote_at': 1745415000, 'open': '206', 'high': '208', 'low': '202.80000', 'close': '204.60001', 'volume': '52863100', 'previous_close': '199.74001', 'change': '4.86000', 'percent_change': '2.43316', 'average_volume': '81005730', 'is_market_open': False, 'fifty_two_week': {'low': '164.92000', 'high': '260.10001', 'low_change': '39.68001', 'high_change': '-55.50000', 'low_change_percent': '24.060155', 'high_change_percent': '-21.33795', 'range': '164.919998 - 260.100006'}}
2025-04-24 17:26:01,871 - INFO - Fetching real-time price for symbol: BTC, asset_type: UNKNOWN...
2025-04-24 17:26:01,871 - INFO - Unsupported asset type: UNKNOWN for symbol: BTC. Skipping.
2025-04-24 17:26:01,872 - INFO - Fetching assets that need price updates...
2025-04-24 17:26:01,872 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:26:01,872 - INFO - Found 2 symbols needing updates.
2025-04-24 17:26:01,873 - INFO - Successfully inserted or updated data for symbol: AAPL.
2025-04-24 17:26:01,873 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:26:01,873 - INFO - All required fields are present in the API response for symbol AAPL.
2025-04-24 17:26:01,873 - INFO - Extracted data for symbol AAPL: timestamp=1745415000, price=204.60001, percent_change=2.43316
2025-04-24 17:26:01,873 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:26:01,873 - INFO - Starting update_market_data job...
2025-04-24 17:26:01,873 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:26:01,873 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:26:01,873 - INFO - Assets needing updates: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:26:01,874 - INFO - update_market_data job completed successfully.
2025-04-24 17:26:01,875 - INFO - Starting update_market_data job...
2025-04-24 17:26:01,875 - INFO - Received message payload: INVALID_INPUT
2025-04-24 17:26:01,875 - INFO - Error: message_payload must be a dictionary with an 'assets' key.
2025-04-24 17:26:01,875 - INFO - Starting update_market_data job...
2025-04-24 17:26:01,875 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:26:01,875 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:26:01,875 - INFO - No assets need updates. Exiting job.
2025-04-24 17:26:01,875 - INFO - update_market_data job completed successfully.
2025-04-24 17:26:01,876 - INFO - Starting update_market_data job...
2025-04-24 17:26:01,876 - INFO - Received message payload: {'assets': [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]}
2025-04-24 17:26:01,876 - INFO - Received assets: [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:26:01,876 - INFO - No valid assets found. Exiting job.
2025-04-24 17:26:01,876 - INFO - Validating assets against the holdings table...
2025-04-24 17:26:01,876 - INFO - Assets to validate: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}, {'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:26:01,876 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-24 17:26:08,582 - INFO - Running fetch_market_average_data job...
2025-04-24 17:26:08,582 - INFO - Received message payload: {'symbols': ['^GSPC', '^NDX']}
2025-04-24 17:26:08,582 - INFO - Received symbols: ['^GSPC', '^NDX']
2025-04-24 17:26:08,582 - INFO - Starting fetch_market_average_data job...
2025-04-24 17:26:08,582 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:26:08,582 - INFO - All market average data is up-to-date. Using existing data.
2025-04-24 17:26:08,582 - INFO - Starting fetch_and_insert_data process...
2025-04-24 17:26:08,583 - INFO - fetch_and_insert_data process completed.
2025-04-24 17:26:08,584 - INFO - Fetching real-time price for symbol: AAPL, asset_type: STOCK...
2025-04-24 17:26:08,584 - INFO - API response for symbol AAPL: {'symbol': 'AAPL', 'name': 'Apple Inc.', 'exchange': 'NASDAQ', 'mic_code': 'XNGS', 'currency': 'USD', 'datetime': '2025-04-23', 'timestamp': 1745415000, 'last_quote_at': 1745415000, 'open': '206', 'high': '208', 'low': '202.80000', 'close': '204.60001', 'volume': '52863100', 'previous_close': '199.74001', 'change': '4.86000', 'percent_change': '2.43316', 'average_volume': '81005730', 'is_market_open': False, 'fifty_two_week': {'low': '164.92000', 'high': '260.10001', 'low_change': '39.68001', 'high_change': '-55.50000', 'low_change_percent': '24.060155', 'high_change_percent': '-21.33795', 'range': '164.919998 - 260.100006'}}
2025-04-24 17:26:08,584 - INFO - Fetching real-time price for symbol: BTC, asset_type: UNKNOWN...
2025-04-24 17:26:08,584 - INFO - Unsupported asset type: UNKNOWN for symbol: BTC. Skipping.
2025-04-24 17:26:08,585 - INFO - Fetching assets that need price updates...
2025-04-24 17:26:08,585 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:26:08,585 - INFO - Found 2 symbols needing updates.
2025-04-24 17:26:08,585 - INFO - Successfully inserted or updated data for symbol: AAPL.
2025-04-24 17:26:08,585 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:26:08,585 - INFO - All required fields are present in the API response for symbol AAPL.
2025-04-24 17:26:08,585 - INFO - Extracted data for symbol AAPL: timestamp=1745415000, price=204.60001, percent_change=2.43316
2025-04-24 17:26:08,585 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:26:08,586 - INFO - Starting update_market_data job...
2025-04-24 17:26:08,586 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:26:08,586 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:26:08,586 - INFO - Assets needing updates: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:26:08,586 - INFO - update_market_data job completed successfully.
2025-04-24 17:26:08,586 - INFO - Starting update_market_data job...
2025-04-24 17:26:08,586 - INFO - Received message payload: INVALID_INPUT
2025-04-24 17:26:08,586 - INFO - Error: message_payload must be a dictionary with an 'assets' key.
2025-04-24 17:26:08,586 - INFO - Starting update_market_data job...
2025-04-24 17:26:08,586 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:26:08,586 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:26:08,587 - INFO - No assets need updates. Exiting job.
2025-04-24 17:26:08,587 - INFO - update_market_data job completed successfully.
2025-04-24 17:26:08,587 - INFO - Starting update_market_data job...
2025-04-24 17:26:08,587 - INFO - Received message payload: {'assets': [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]}
2025-04-24 17:26:08,587 - INFO - Received assets: [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:26:08,587 - INFO - No valid assets found. Exiting job.
2025-04-24 17:26:08,587 - INFO - Validating assets against the holdings table...
2025-04-24 17:26:08,587 - INFO - Assets to validate: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}, {'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:26:08,587 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-24 17:30:27,564 - INFO - Running fetch_market_average_data job...
2025-04-24 17:30:27,565 - INFO - Received message payload: {'symbols': ['^GSPC', '^NDX']}
2025-04-24 17:30:27,565 - INFO - Received symbols: ['^GSPC', '^NDX']
2025-04-24 17:30:27,565 - INFO - Starting fetch_market_average_data job...
2025-04-24 17:30:27,565 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:30:27,565 - INFO - All market average data is up-to-date. Using existing data.
2025-04-24 17:30:27,565 - INFO - Starting fetch_and_insert_data process...
2025-04-24 17:30:27,565 - INFO - fetch_and_insert_data process completed.
2025-04-24 17:30:27,567 - INFO - Fetching real-time price for symbol: AAPL, asset_type: STOCK...
2025-04-24 17:30:27,567 - INFO - API response for symbol AAPL: {'symbol': 'AAPL', 'name': 'Apple Inc.', 'exchange': 'NASDAQ', 'mic_code': 'XNGS', 'currency': 'USD', 'datetime': '2025-04-23', 'timestamp': 1745415000, 'last_quote_at': 1745415000, 'open': '206', 'high': '208', 'low': '202.80000', 'close': '204.60001', 'volume': '52863100', 'previous_close': '199.74001', 'change': '4.86000', 'percent_change': '2.43316', 'average_volume': '81005730', 'is_market_open': False, 'fifty_two_week': {'low': '164.92000', 'high': '260.10001', 'low_change': '39.68001', 'high_change': '-55.50000', 'low_change_percent': '24.060155', 'high_change_percent': '-21.33795', 'range': '164.919998 - 260.100006'}}
2025-04-24 17:30:27,568 - INFO - Fetching real-time price for symbol: BTC, asset_type: UNKNOWN...
2025-04-24 17:30:27,568 - INFO - Unsupported asset type: UNKNOWN for symbol: BTC. Skipping.
2025-04-24 17:30:27,568 - INFO - Fetching assets that need price updates...
2025-04-24 17:30:27,568 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:30:27,568 - INFO - Found 2 symbols needing updates.
2025-04-24 17:30:27,569 - INFO - Successfully inserted or updated data for symbol: AAPL.
2025-04-24 17:30:27,569 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:30:27,569 - INFO - All required fields are present in the API response for symbol AAPL.
2025-04-24 17:30:27,569 - INFO - Extracted data for symbol AAPL: timestamp=1745415000, price=204.60001, percent_change=2.43316
2025-04-24 17:30:27,569 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:30:27,569 - INFO - Starting update_market_data job...
2025-04-24 17:30:27,569 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:30:27,569 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:30:27,569 - INFO - Assets needing updates: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:30:27,569 - INFO - update_market_data job completed successfully.
2025-04-24 17:30:27,570 - INFO - Starting update_market_data job...
2025-04-24 17:30:27,570 - INFO - Received message payload: INVALID_INPUT
2025-04-24 17:30:27,570 - INFO - Error: message_payload must be a dictionary with an 'assets' key.
2025-04-24 17:30:27,571 - INFO - Starting update_market_data job...
2025-04-24 17:30:27,571 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:30:27,571 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:30:27,571 - INFO - No assets need updates. Exiting job.
2025-04-24 17:30:27,571 - INFO - update_market_data job completed successfully.
2025-04-24 17:30:27,571 - INFO - Starting update_market_data job...
2025-04-24 17:30:27,571 - INFO - Received message payload: {'assets': [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]}
2025-04-24 17:30:27,571 - INFO - Received assets: [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:30:27,571 - INFO - No valid assets found. Exiting job.
2025-04-24 17:30:27,571 - INFO - Validating assets against the holdings table...
2025-04-24 17:30:27,571 - INFO - Assets to validate: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}, {'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:30:27,571 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-24 17:31:39,648 - INFO - Running fetch_market_average_data job...
2025-04-24 17:31:39,648 - INFO - Received message payload: {'symbols': ['^GSPC', '^NDX']}
2025-04-24 17:31:39,648 - INFO - Received symbols: ['^GSPC', '^NDX']
2025-04-24 17:31:39,648 - INFO - Starting fetch_market_average_data job...
2025-04-24 17:31:39,648 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:31:39,648 - INFO - All market average data is up-to-date. Using existing data.
2025-04-24 17:31:39,649 - INFO - Starting fetch_and_insert_data process...
2025-04-24 17:31:39,649 - INFO - fetch_and_insert_data process completed.
2025-04-24 17:31:39,651 - INFO - Fetching real-time price for symbol: AAPL, asset_type: STOCK...
2025-04-24 17:31:39,651 - INFO - API response for symbol AAPL: {'symbol': 'AAPL', 'name': 'Apple Inc.', 'exchange': 'NASDAQ', 'mic_code': 'XNGS', 'currency': 'USD', 'datetime': '2025-04-23', 'timestamp': 1745415000, 'last_quote_at': 1745415000, 'open': '206', 'high': '208', 'low': '202.80000', 'close': '204.60001', 'volume': '52863100', 'previous_close': '199.74001', 'change': '4.86000', 'percent_change': '2.43316', 'average_volume': '81005730', 'is_market_open': False, 'fifty_two_week': {'low': '164.92000', 'high': '260.10001', 'low_change': '39.68001', 'high_change': '-55.50000', 'low_change_percent': '24.060155', 'high_change_percent': '-21.33795', 'range': '164.919998 - 260.100006'}}
2025-04-24 17:31:39,651 - INFO - Fetching real-time price for symbol: BTC, asset_type: UNKNOWN...
2025-04-24 17:31:39,651 - INFO - Unsupported asset type: UNKNOWN for symbol: BTC. Skipping.
2025-04-24 17:31:39,652 - INFO - Fetching assets that need price updates...
2025-04-24 17:31:39,652 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:31:39,652 - INFO - Found 2 symbols needing updates.
2025-04-24 17:31:39,653 - INFO - Successfully inserted or updated data for symbol: AAPL.
2025-04-24 17:31:39,653 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:31:39,653 - INFO - All required fields are present in the API response for symbol AAPL.
2025-04-24 17:31:39,653 - INFO - Extracted data for symbol AAPL: timestamp=1745415000, price=204.60001, percent_change=2.43316
2025-04-24 17:31:39,653 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:31:39,653 - INFO - Starting update_market_data job...
2025-04-24 17:31:39,653 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:31:39,653 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:31:39,653 - INFO - Assets needing updates: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:31:39,653 - INFO - update_market_data job completed successfully.
2025-04-24 17:31:39,654 - INFO - Starting update_market_data job...
2025-04-24 17:31:39,654 - INFO - Received message payload: INVALID_INPUT
2025-04-24 17:31:39,654 - INFO - Error: message_payload must be a dictionary with an 'assets' key.
2025-04-24 17:31:39,654 - INFO - Starting update_market_data job...
2025-04-24 17:31:39,654 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:31:39,654 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:31:39,654 - INFO - No assets need updates. Exiting job.
2025-04-24 17:31:39,654 - INFO - update_market_data job completed successfully.
2025-04-24 17:31:39,655 - INFO - Starting update_market_data job...
2025-04-24 17:31:39,655 - INFO - Received message payload: {'assets': [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]}
2025-04-24 17:31:39,655 - INFO - Received assets: [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:31:39,655 - INFO - No valid assets found. Exiting job.
2025-04-24 17:31:39,655 - INFO - Validating assets against the holdings table...
2025-04-24 17:31:39,655 - INFO - Assets to validate: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}, {'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:31:39,655 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
2025-04-24 17:33:10,640 - INFO - Running fetch_market_average_data job...
2025-04-24 17:33:10,640 - INFO - Received message payload: {'symbols': ['^GSPC', '^NDX']}
2025-04-24 17:33:10,641 - INFO - Received symbols: ['^GSPC', '^NDX']
2025-04-24 17:33:10,641 - INFO - Starting fetch_market_average_data job...
2025-04-24 17:33:10,641 - INFO - Closest US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:33:10,641 - INFO - All market average data is up-to-date. Using existing data.
2025-04-24 17:33:10,641 - INFO - Starting fetch_and_insert_data process...
2025-04-24 17:33:10,641 - INFO - fetch_and_insert_data process completed.
2025-04-24 17:33:10,642 - INFO - Fetching real-time price for symbol: AAPL, asset_type: STOCK...
2025-04-24 17:33:10,642 - INFO - API response for symbol AAPL: {'symbol': 'AAPL', 'name': 'Apple Inc.', 'exchange': 'NASDAQ', 'mic_code': 'XNGS', 'currency': 'USD', 'datetime': '2025-04-23', 'timestamp': 1745415000, 'last_quote_at': 1745415000, 'open': '206', 'high': '208', 'low': '202.80000', 'close': '204.60001', 'volume': '52863100', 'previous_close': '199.74001', 'change': '4.86000', 'percent_change': '2.43316', 'average_volume': '81005730', 'is_market_open': False, 'fifty_two_week': {'low': '164.92000', 'high': '260.10001', 'low_change': '39.68001', 'high_change': '-55.50000', 'low_change_percent': '24.060155', 'high_change_percent': '-21.33795', 'range': '164.919998 - 260.100006'}}
2025-04-24 17:33:10,642 - INFO - Fetching real-time price for symbol: BTC, asset_type: UNKNOWN...
2025-04-24 17:33:10,642 - INFO - Unsupported asset type: UNKNOWN for symbol: BTC. Skipping.
2025-04-24 17:33:10,642 - INFO - Fetching assets that need price updates...
2025-04-24 17:33:10,642 - INFO - Most recent US market closing time in UTC: 2025-04-16 20:00:00
2025-04-24 17:33:10,643 - INFO - Found 2 symbols needing updates.
2025-04-24 17:33:10,643 - INFO - Successfully inserted or updated data for symbol: AAPL.
2025-04-24 17:33:10,643 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:33:10,643 - INFO - All required fields are present in the API response for symbol AAPL.
2025-04-24 17:33:10,643 - INFO - Extracted data for symbol AAPL: timestamp=1745415000, price=204.60001, percent_change=2.43316
2025-04-24 17:33:10,643 - INFO - Validating required fields : ['timestamp', 'close', 'percent_change']
2025-04-24 17:33:10,644 - INFO - Starting update_market_data job...
2025-04-24 17:33:10,644 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:33:10,644 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:33:10,644 - INFO - Assets needing updates: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:33:10,644 - INFO - update_market_data job completed successfully.
2025-04-24 17:33:10,644 - INFO - Starting update_market_data job...
2025-04-24 17:33:10,644 - INFO - Received message payload: INVALID_INPUT
2025-04-24 17:33:10,644 - INFO - Error: message_payload must be a dictionary with an 'assets' key.
2025-04-24 17:33:10,644 - INFO - Starting update_market_data job...
2025-04-24 17:33:10,644 - INFO - Received message payload: {'assets': [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]}
2025-04-24 17:33:10,644 - INFO - Received assets: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}]
2025-04-24 17:33:10,644 - INFO - No assets need updates. Exiting job.
2025-04-24 17:33:10,644 - INFO - update_market_data job completed successfully.
2025-04-24 17:33:10,645 - INFO - Starting update_market_data job...
2025-04-24 17:33:10,645 - INFO - Received message payload: {'assets': [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]}
2025-04-24 17:33:10,645 - INFO - Received assets: [{'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:33:10,645 - INFO - No valid assets found. Exiting job.
2025-04-24 17:33:10,645 - INFO - Validating assets against the holdings table...
2025-04-24 17:33:10,645 - INFO - Assets to validate: [{'symbol': 'AAPL', 'asset_type': 'STOCK'}, {'symbol': 'TSLA', 'asset_type': 'STOCK'}, {'symbol': 'INVALID', 'asset_type': 'STOCK'}]
2025-04-24 17:33:10,645 - INFO - Warning: The following symbols do not exist in the holdings table and will be ignored: {'INVALID'}
